(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{30:function(t,e,c){t.exports={headerWrapper:"Header_headerWrapper__Gxtab"}},31:function(t,e,c){t.exports={wrapper:"App_wrapper__uY6DL"}},36:function(t,e,c){},64:function(t,e,c){"use strict";c.r(e);var n=c(0),i=c.n(n),r=c(26),a=c.n(r),o=(c(36),c(7)),s=c(6),p=c(8),u=c.n(p),j=c(1),l=function(t){var e=t.topic;return Object(j.jsxs)(s.b,{className:u.a.topicListItem,to:"/topic/".concat(e.id),children:[Object(j.jsx)("h1",{children:e.title}),Object(j.jsx)("p",{children:e.description})]})},b=function(t){var e=t.topicList;return Object(j.jsxs)("div",{className:u.a.topicListWrapper,children:[e.map((function(t){return Object(j.jsx)(l,{topic:t},t.id)})),Object(j.jsx)(s.b,{to:"/topic/new",children:"Add new topic"})]})},d=c(29),h=c.n(d).a.create({baseURL:"http://127.0.0.1:8000"}),O=function(){return h({method:"get",url:"/api/topics/"}).then((function(t){return t.data})).catch((function(t){return console.log(t)}))},f=function(t){return h({method:"get",url:"/api/topics/".concat(t,"/")}).then((function(t){return t.data})).catch((function(t){return console.log(t)}))},x=function(t){return h({method:"post",url:"/api/topics/",data:t}).catch((function(t){return console.log(t)}))},m=function(){var t=Object(n.useState)([]),e=Object(o.a)(t,2),c=e[0],i=e[1];return Object(n.useEffect)((function(){O().then((function(t){return t?i(t):alert("server error")}))}),[]),Object(j.jsx)(b,{topicList:c})},g=c(2),v=c(9),_=c(10),L=function(t){var e=t.topic;return Object(j.jsxs)("div",{className:u.a.topicWrapper,children:[Object(j.jsx)("h1",{children:e.title}),Object(j.jsx)("p",{children:e.description})]})},C=function(t){var e=t.handleSubmit,c=t.handleChange,n=t.topic;return Object(j.jsxs)("form",{onSubmit:e,children:[Object(j.jsxs)("label",{children:["Title:",Object(j.jsx)("input",{type:"text",value:n.title,name:"title",onChange:c})]}),Object(j.jsxs)("label",{children:["Description:",Object(j.jsx)("input",{type:"text",value:n.description,name:"description",onChange:c})]}),Object(j.jsx)("input",{type:"submit",value:"Submit"})]})},S=function(){var t=Object(g.g)(),e=Object(n.useState)({title:"",description:""}),c=Object(o.a)(e,2),i=c[0],r=c[1],a=Object(n.useState)(!1),s=Object(o.a)(a,2),p=s[0],u=s[1];Object(n.useEffect)((function(){f(t.topicId).then((function(t){return r(t)}))}),[t.topicId]);return!1===p?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(L,{topic:i}),Object(j.jsx)("button",{onClick:function(t){t.preventDefault(),u(!p)},children:"Edit"})]}):Object(j.jsx)(C,{topic:i,handleChange:function(t){r(Object(_.a)(Object(_.a)({},i),{},Object(v.a)({},t.target.name,t.target.value)))}})},W=function(){var t=Object(n.useState)({title:"",description:""}),e=Object(o.a)(t,2),c=e[0],i=e[1],r=Object(g.f)();return Object(j.jsx)(C,{topic:c,handleChange:function(t){i(Object(_.a)(Object(_.a)({},c),{},Object(v.a)({},t.target.name,t.target.value)))},handleSubmit:function(t){t.preventDefault(),Object.values(c).some((function(t){return!t}))?alert("Please fill in all fields!"):x(c).then((function(t){201===t.status&&r.push("/")}))}})},w=c(30),I=c.n(w),T=function(){return Object(j.jsx)("header",{className:I.a.headerWrapper,children:Object(j.jsx)(s.c,{to:"/",children:"Home"})})},D=c(31),F=c.n(D),N=function(){return Object(j.jsxs)("div",{className:F.a.wrapper,children:[Object(j.jsx)(T,{}),Object(j.jsxs)(g.c,{children:[Object(j.jsx)(g.a,{path:"/topic/new",children:Object(j.jsx)(W,{})}),Object(j.jsx)(g.a,{path:"/topic/:topicId",children:Object(j.jsx)(S,{})}),Object(j.jsx)(g.a,{path:"/",children:Object(j.jsx)(m,{})})]})]})},y=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,65)).then((function(e){var c=e.getCLS,n=e.getFID,i=e.getFCP,r=e.getLCP,a=e.getTTFB;c(t),n(t),i(t),r(t),a(t)}))};a.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(s.a,{children:Object(j.jsx)(N,{})})}),document.getElementById("root")),y()},8:function(t,e,c){t.exports={topicListWrapper:"Topic_topicListWrapper__1CY6o",topicListItem:"Topic_topicListItem__2W8cG",topicWrapper:"Topic_topicWrapper__sutJe"}}},[[64,1,2]]]);
//# sourceMappingURL=main.4686fcba.chunk.js.map